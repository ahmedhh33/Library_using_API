2023-10-11 12:43:44.976 +04:00 [INF] User profile is available. Using 'C:\Users\TRA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-11 12:43:45.268 +04:00 [INF] Now listening on: https://localhost:7211
2023-10-11 12:43:45.269 +04:00 [INF] Now listening on: http://localhost:5154
2023-10-11 12:43:45.274 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-11 12:43:45.274 +04:00 [INF] Hosting environment: Development
2023-10-11 12:43:45.275 +04:00 [INF] Content root path: C:\Users\TRA\Desktop\TRA-Code\Library_web\
2023-10-11 12:43:46.720 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7211/swagger/index.html - -
2023-10-11 12:43:47.390 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7211/_framework/aspnetcore-browser-refresh.js - -
2023-10-11 12:43:47.460 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7211/_vs/browserLink - -
2023-10-11 12:43:47.492 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7211/_framework/aspnetcore-browser-refresh.js - - - 200 11992 application/javascript;+charset=utf-8 75.9027ms
2023-10-11 12:43:47.492 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7211/swagger/index.html - - - 200 - text/html;charset=utf-8 775.1236ms
2023-10-11 12:43:47.568 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7211/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 108.0078ms
2023-10-11 12:43:47.629 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7211/swagger/v1/swagger.json - -
2023-10-11 12:43:47.779 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7211/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 150.2073ms
2023-10-11 12:45:10.899 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7211/api/Login?email=ahmedj12%40gmail.com&password=ahmedj12%40 - 0
2023-10-11 12:45:11.040 +04:00 [INF] Executing endpoint 'Library_web.Controllers.LoginController.post (Library_web)'
2023-10-11 12:45:11.093 +04:00 [INF] Route matched with {action = "post", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult post(System.String, System.String) on controller Library_web.Controllers.LoginController (Library_web).
2023-10-11 12:45:14.454 +04:00 [INF] Executed DbCommand (161ms) [Parameters=[@__email_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Email], [u].[Password], [u].[UserName]
FROM [userLogins] AS [u]
WHERE [u].[Email] = @__email_0 AND [u].[Password] = @__password_1
2023-10-11 12:45:14.545 +04:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2023-10-11 12:45:14.559 +04:00 [INF] Executed action Library_web.Controllers.LoginController.post (Library_web) in 3454.4808ms
2023-10-11 12:45:14.562 +04:00 [INF] Executed endpoint 'Library_web.Controllers.LoginController.post (Library_web)'
2023-10-11 12:45:14.568 +04:00 [INF] HTTP POST /api/Login responded 401 in 3657.6588 ms
2023-10-11 12:45:14.617 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7211/api/Login?email=ahmedj12%40gmail.com&password=ahmedj12%40 - 0 - 401 - text/plain;+charset=utf-8 3718.1694ms
2023-10-11 12:49:41.745 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7211/api/Login?email=ahmedj12%40gmail.com&password=ahmedj12 - 0
2023-10-11 12:49:41.756 +04:00 [INF] Executing endpoint 'Library_web.Controllers.LoginController.post (Library_web)'
2023-10-11 12:49:41.758 +04:00 [INF] Route matched with {action = "post", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult post(System.String, System.String) on controller Library_web.Controllers.LoginController (Library_web).
2023-10-11 12:49:41.792 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Email], [u].[Password], [u].[UserName]
FROM [userLogins] AS [u]
WHERE [u].[Email] = @__email_0 AND [u].[Password] = @__password_1
2023-10-11 12:49:42.104 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-10-11 12:49:42.106 +04:00 [INF] Executed action Library_web.Controllers.LoginController.post (Library_web) in 345.9021ms
2023-10-11 12:49:42.107 +04:00 [INF] Executed endpoint 'Library_web.Controllers.LoginController.post (Library_web)'
2023-10-11 12:49:42.108 +04:00 [INF] HTTP POST /api/Login responded 200 in 352.0408 ms
2023-10-11 12:49:42.109 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7211/api/Login?email=ahmedj12%40gmail.com&password=ahmedj12 - 0 - 200 - text/plain;+charset=utf-8 364.3143ms
2023-10-11 12:51:44.369 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7211/api/BorrowingTransactions?patronId=6&bookId=11 - 0
2023-10-11 12:51:44.403 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-10-11 12:51:44.417 +04:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-10-11 12:51:44.419 +04:00 [INF] HTTP POST /api/BorrowingTransactions responded 401 in 47.8243 ms
2023-10-11 12:51:44.422 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7211/api/BorrowingTransactions?patronId=6&bookId=11 - 0 - 401 0 - 53.0784ms
2023-10-11 12:53:16.145 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7211/swagger/index.html - -
2023-10-11 12:53:16.170 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7211/swagger/index.html - - - 200 - text/html;charset=utf-8 25.3590ms
2023-10-11 12:53:16.176 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7211/_framework/aspnetcore-browser-refresh.js - -
2023-10-11 12:53:16.176 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7211/_vs/browserLink - -
2023-10-11 12:53:16.178 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7211/_framework/aspnetcore-browser-refresh.js - - - 200 11992 application/javascript;+charset=utf-8 1.8184ms
2023-10-11 12:53:16.193 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7211/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 16.8505ms
2023-10-11 12:53:16.335 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7211/swagger/v1/swagger.json - -
2023-10-11 12:53:16.343 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7211/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 8.2951ms
2023-10-11 12:53:46.849 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7211/api/BorrowingTransactions?patronId=6&bookId=11 - 0
2023-10-11 12:53:46.860 +04:00 [INF] Executing endpoint 'Library_web.Controllers.BorrowingTransactionsController.CreateBorrowingTransaction (Library_web)'
2023-10-11 12:53:46.869 +04:00 [INF] Route matched with {action = "CreateBorrowingTransaction", controller = "BorrowingTransactions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBorrowingTransaction(Int32, Int32) on controller Library_web.Controllers.BorrowingTransactionsController (Library_web).
2023-10-11 12:53:46.973 +04:00 [INF] Executed DbCommand (14ms) [Parameters=[@__patronId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Pat_ID], [p].[Age], [p].[EmailAddress], [p].[Name]
FROM [patronManagements] AS [p]
WHERE [p].[Pat_ID] = @__patronId_0
2023-10-11 12:53:47.015 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[B_ID], [b].[author], [b].[is_Available], [b].[publication_year], [b].[title]
FROM [bookManagements] AS [b]
WHERE [b].[B_ID] = @__bookId_0
2023-10-11 12:53:47.245 +04:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-10-11 12:53:47.245 +04:00 [INF] Executed action Library_web.Controllers.BorrowingTransactionsController.CreateBorrowingTransaction (Library_web) in 373.2366ms
2023-10-11 12:53:47.246 +04:00 [INF] Executed endpoint 'Library_web.Controllers.BorrowingTransactionsController.CreateBorrowingTransaction (Library_web)'
2023-10-11 12:53:47.247 +04:00 [INF] HTTP POST /api/BorrowingTransactions responded 400 in 386.7742 ms
2023-10-11 12:53:47.248 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7211/api/BorrowingTransactions?patronId=6&bookId=11 - 0 - 400 - text/plain;+charset=utf-8 399.3829ms
2023-10-11 12:54:45.200 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7211/swagger/index.html - -
2023-10-11 12:54:45.222 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7211/swagger/index.html - - - 200 - text/html;charset=utf-8 22.2851ms
2023-10-11 12:54:45.230 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7211/_framework/aspnetcore-browser-refresh.js - -
2023-10-11 12:54:45.231 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7211/_vs/browserLink - -
2023-10-11 12:54:45.236 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7211/_framework/aspnetcore-browser-refresh.js - - - 200 11992 application/javascript;+charset=utf-8 6.0607ms
2023-10-11 12:54:45.257 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7211/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 25.1596ms
2023-10-11 12:54:45.387 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7211/swagger/v1/swagger.json - -
2023-10-11 12:54:45.391 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7211/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 4.6443ms
2023-10-11 12:55:12.012 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7211/api/BorrowingTransactions?patronId=6&bookId=11 - 0
2023-10-11 12:55:12.016 +04:00 [INF] Executing endpoint 'Library_web.Controllers.BorrowingTransactionsController.CreateBorrowingTransaction (Library_web)'
2023-10-11 12:55:12.024 +04:00 [INF] Route matched with {action = "CreateBorrowingTransaction", controller = "BorrowingTransactions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBorrowingTransaction(Int32, Int32) on controller Library_web.Controllers.BorrowingTransactionsController (Library_web).
2023-10-11 12:55:12.044 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[@__patronId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Pat_ID], [p].[Age], [p].[EmailAddress], [p].[Name]
FROM [patronManagements] AS [p]
WHERE [p].[Pat_ID] = @__patronId_0
2023-10-11 12:55:12.050 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[B_ID], [b].[author], [b].[is_Available], [b].[publication_year], [b].[title]
FROM [bookManagements] AS [b]
WHERE [b].[B_ID] = @__bookId_0
2023-10-11 12:55:12.070 +04:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-10-11 12:55:12.072 +04:00 [INF] Executed action Library_web.Controllers.BorrowingTransactionsController.CreateBorrowingTransaction (Library_web) in 43.0943ms
2023-10-11 12:55:12.073 +04:00 [INF] Executed endpoint 'Library_web.Controllers.BorrowingTransactionsController.CreateBorrowingTransaction (Library_web)'
2023-10-11 12:55:12.074 +04:00 [INF] HTTP POST /api/BorrowingTransactions responded 400 in 59.0641 ms
2023-10-11 12:55:12.077 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7211/api/BorrowingTransactions?patronId=6&bookId=11 - 0 - 400 - text/plain;+charset=utf-8 64.3334ms
